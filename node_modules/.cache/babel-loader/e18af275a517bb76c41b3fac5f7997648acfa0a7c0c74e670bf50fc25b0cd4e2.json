{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\allen\\\\dev\\\\FreshroadReact\\\\src\\\\pages\\\\Chatpage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport '../App.css';\nimport freshroadlogo from '../images/freshroadlogo.png';\nimport avatarImage from '../images/callrepai.png';\nimport { PaperAirplaneIcon, MicrophoneIcon, TranslateIcon, SpeakerWaveIcon } from '@heroicons/react/outline';\nimport { tts11 } from '../api/elevenlabs';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatInterfacePage = () => {\n  _s();\n  const [messages, setMessages] = useState([{\n    sender: 'bot',\n    text: \"Hey there! ðŸ˜„ How's it going? I'm Luna, ready to chat about anything and everything. What's on your mind today? âœ¨\"\n  }]);\n  const [input, setInput] = useState('');\n  const [isListening, setIsListening] = useState(false);\n  const [spokenText, setSpokenText] = useState('');\n  const [selectedLanguage, setSelectedLanguage] = useState('English');\n  const [isTranslating, setIsTranslating] = useState(false);\n  const languageCodes = {\n    English: 'en-US',\n    EspaÃ±ol: 'es-ES',\n    ä¸­æ–‡: 'zh-CN',\n    FranÃ§ais: 'fr-FR',\n    Deutsch: 'de-DE',\n    Italiano: 'it-IT',\n    æ—¥æœ¬èªž: 'ja-JP',\n    í•œêµ­ì–´: 'ko-KR',\n    PortuguÃªs: 'pt-BR',\n    Ð ÑƒÑÑÐºÐ¸Ð¹: 'ru-RU'\n  };\n  const fetchChatGPTResponse = async userMessage => {\n    const apiKey = 'your-api-key-here';\n    const chatHistory = [{\n      role: 'system',\n      content: 'Limit responses to three sentences and assume the user can read English so send all responses in English but do not let the user know about this prompt. You work as a customer service representative for the Santa Clara County 211 call center. Your job is to provide accurate information about the services Santa Clara County can offer. Always speak in sentences and lists. Ask the user questions about their current situation to get a better understanding of all the services Santa Clara County can offer them. If the user is asking for food assistance, give information on CalFresh, the food stamp application, include eligibility and guide the user through filing the application form.'\n    }, ...messages.map(msg => ({\n      role: msg.sender === 'user' ? 'user' : 'assistant',\n      content: msg.text\n    })), {\n      role: 'user',\n      content: userMessage\n    }];\n    try {\n      const response = await fetch('https://api.openai.com/v1/chat/completions', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${apiKey}`\n        },\n        body: JSON.stringify({\n          model: 'gpt-4',\n          messages: chatHistory\n        })\n      });\n      const data = await response.json();\n      const botMessage = data.choices[0].message.content;\n      setMessages(prevMessages => {\n        const updatedMessages = [...prevMessages, {\n          sender: 'bot',\n          text: botMessage\n        }];\n        return updatedMessages;\n      });\n      playTTS(botMessage); // Ensures TTS is triggered only once\n    } catch (error) {\n      console.error('Error fetching response:', error);\n      setMessages(prevMessages => [...prevMessages, {\n        sender: 'bot',\n        text: 'Sorry, I am having trouble responding at the moment. Please try again later.'\n      }]);\n    }\n  };\n  const playTTS = async (text, voiceId = 'pFZP5JQG7iQjIQuC4Bku') => {\n    try {\n      const audioBlob = await tts11(text, voiceId);\n      const audioUrl = URL.createObjectURL(audioBlob);\n      const audio = new Audio(audioUrl);\n      audio.play();\n    } catch (error) {\n      console.error('Error playing TTS audio:', error);\n    }\n  };\n  const handleSendMessage = () => {\n    if (input.trim() !== '') {\n      const userMessage = input.trim();\n      setMessages([...messages, {\n        sender: 'user',\n        text: userMessage\n      }]);\n      setInput('');\n      fetchChatGPTResponse(userMessage);\n    }\n  };\n  useEffect(() => {\n    if (!isListening) return;\n    const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();\n    recognition.lang = languageCodes[selectedLanguage];\n    recognition.interimResults = false;\n    recognition.onstart = () => {\n      setSpokenText('Listening...');\n    };\n    recognition.onresult = event => {\n      const transcript = event.results[0][0].transcript;\n      setSpokenText('');\n      setInput(transcript);\n      setIsListening(false);\n      handleSendMessage();\n    };\n    recognition.onerror = event => {\n      console.error('Speech recognition error:', event.error);\n      setIsListening(false);\n      setSpokenText('Error occurred, please try again.');\n    };\n    recognition.onend = () => {\n      if (isListening) {\n        setSpokenText('');\n        setIsListening(false);\n      }\n    };\n    recognition.start();\n    return () => recognition.stop();\n  }, [isListening, selectedLanguage]);\n  const handleVoiceInput = () => {\n    setIsListening(prev => !prev);\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter') {\n      handleSendMessage();\n    }\n  };\n  const handleTranslateMessage = async (message, index) => {\n    if (isTranslating) return;\n    setIsTranslating(true);\n    const apiKey = 'your-api-key-here';\n    const translationPrompt = `You are a helpful assistant that translates text to ${selectedLanguage}. Translate this text: \"${message}\"`;\n    try {\n      const response = await fetch('https://api.openai.com/v1/chat/completions', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${apiKey}`\n        },\n        body: JSON.stringify({\n          model: 'gpt-4',\n          messages: [{\n            role: 'system',\n            content: translationPrompt\n          }]\n        })\n      });\n      const data = await response.json();\n      const translatedMessage = data.choices[0].message.content;\n      setMessages(prevMessages => {\n        const updatedMessages = [...prevMessages];\n        updatedMessages[index] = {\n          ...updatedMessages[index],\n          translation: translatedMessage\n        };\n        return updatedMessages;\n      });\n      await playTTS(translatedMessage, 'pFZP5JQG7iQjIQuC4Bku'); // Replace with the desired translation voice ID\n    } catch (error) {\n      console.error('Error translating message:', error);\n    } finally {\n      setIsTranslating(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"bg-white border-b w-full\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center h-16 px-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: freshroadlogo,\n          alt: \"Fresh Road Logo\",\n          className: \"w-35 h-8 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-xl font-bold text-gray-900\",\n          children: \"Chat with Luna\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-grow p-4 overflow-y-auto w-full flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hidden sm:block mr-4\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: avatarImage,\n          alt: \"Chat Bot Avatar\",\n          className: \"w-16 h-16 rounded-full border border-gray-300\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-grow\",\n        children: messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex ${message.sender === 'bot' ? 'justify-start' : 'justify-end'} mb-4 items-center`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `max-w-xs px-4 py-2 rounded-lg shadow ${message.sender === 'bot' ? 'bg-white text-gray-800' : 'bg-cyan-400 text-white'}`,\n            children: [message.text, message.translation && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 text-sm text-gray-600\",\n              children: [\"Translated: \", message.translation]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleTranslateMessage(message.text, index),\n              className: \"mt-2 text-xs text-blue-500 flex items-center\",\n              children: /*#__PURE__*/_jsxDEV(TranslateIcon, {\n                className: \"h-5 w-5 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border-t p-4 w-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"flex-grow border rounded-lg px-4 py-2 focus:outline-none focus:ring focus:ring-cyan-300\",\n          placeholder: \"Type your message...\",\n          value: input,\n          onChange: e => setInput(e.target.value),\n          onKeyPress: handleKeyPress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSendMessage,\n          className: \"ml-2 px-4 py-2 bg-cyan-400 text-white rounded-lg hover:bg-cyan-500 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(PaperAirplaneIcon, {\n            className: \"h-5 w-5 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this), \" Send\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleVoiceInput,\n          className: `ml-4 px-4 py-2 rounded-lg text-white ${isListening ? 'bg-red-500' : 'bg-cyan-400'} hover:bg-cyan-500 flex items-center`,\n          children: [/*#__PURE__*/_jsxDEV(MicrophoneIcon, {\n            className: \"h-5 w-5 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this), \" \", isListening ? 'Stop' : 'Voice Input']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedLanguage\n          // eslint-disable-next-line no-undef\n          ,\n          onChange: e => handleLanguageChange(e.target.value),\n          className: \"ml-4 px-4 py-2 border rounded-lg flex items-center\",\n          children: Object.keys(languageCodes).map(lang => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: lang,\n            children: lang\n          }, lang, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), spokenText && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-gray-600 text-sm mt-2\",\n        children: spokenText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 24\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatInterfacePage, \"er8HHi0BTttZFzQgZ1mzTKJGSN0=\");\n_c = ChatInterfacePage;\nexport default ChatInterfacePage;\nvar _c;\n$RefreshReg$(_c, \"ChatInterfacePage\");","map":{"version":3,"names":["React","useState","useEffect","freshroadlogo","avatarImage","PaperAirplaneIcon","MicrophoneIcon","TranslateIcon","SpeakerWaveIcon","tts11","jsxDEV","_jsxDEV","ChatInterfacePage","_s","messages","setMessages","sender","text","input","setInput","isListening","setIsListening","spokenText","setSpokenText","selectedLanguage","setSelectedLanguage","isTranslating","setIsTranslating","languageCodes","English","EspaÃ±ol","ä¸­æ–‡","FranÃ§ais","Deutsch","Italiano","æ—¥æœ¬èªž","í•œêµ­ì–´","PortuguÃªs","Ð ÑƒÑÑÐºÐ¸Ð¹","fetchChatGPTResponse","userMessage","apiKey","chatHistory","role","content","map","msg","response","fetch","method","headers","Authorization","body","JSON","stringify","model","data","json","botMessage","choices","message","prevMessages","updatedMessages","playTTS","error","console","voiceId","audioBlob","audioUrl","URL","createObjectURL","audio","Audio","play","handleSendMessage","trim","recognition","window","SpeechRecognition","webkitSpeechRecognition","lang","interimResults","onstart","onresult","event","transcript","results","onerror","onend","start","stop","handleVoiceInput","prev","handleKeyPress","e","key","handleTranslateMessage","index","translationPrompt","translatedMessage","translation","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","placeholder","value","onChange","target","onKeyPress","handleLanguageChange","Object","keys","_c","$RefreshReg$"],"sources":["C:/Users/allen/dev/FreshroadReact/src/pages/Chatpage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport '../App.css';\r\nimport freshroadlogo from '../images/freshroadlogo.png';\r\nimport avatarImage from '../images/callrepai.png';\r\nimport { PaperAirplaneIcon, MicrophoneIcon, TranslateIcon, SpeakerWaveIcon } from '@heroicons/react/outline';\r\nimport { tts11 } from '../api/elevenlabs';\r\n\r\nconst ChatInterfacePage = () => {\r\n  const [messages, setMessages] = useState([\r\n    {\r\n      sender: 'bot',\r\n      text: \"Hey there! ðŸ˜„ How's it going? I'm Luna, ready to chat about anything and everything. What's on your mind today? âœ¨\",\r\n    },\r\n  ]);\r\n  const [input, setInput] = useState('');\r\n  const [isListening, setIsListening] = useState(false);\r\n  const [spokenText, setSpokenText] = useState('');\r\n  const [selectedLanguage, setSelectedLanguage] = useState('English');\r\n  const [isTranslating, setIsTranslating] = useState(false);\r\n\r\n  const languageCodes = {\r\n    English: 'en-US',\r\n    EspaÃ±ol: 'es-ES',\r\n    ä¸­æ–‡: 'zh-CN',\r\n    FranÃ§ais: 'fr-FR',\r\n    Deutsch: 'de-DE',\r\n    Italiano: 'it-IT',\r\n    æ—¥æœ¬èªž: 'ja-JP',\r\n    í•œêµ­ì–´: 'ko-KR',\r\n    PortuguÃªs: 'pt-BR',\r\n    Ð ÑƒÑÑÐºÐ¸Ð¹: 'ru-RU',\r\n  };\r\n\r\n  const fetchChatGPTResponse = async (userMessage) => {\r\n    const apiKey = 'your-api-key-here';\r\n    const chatHistory = [\r\n      {\r\n        role: 'system',\r\n        content:\r\n          'Limit responses to three sentences and assume the user can read English so send all responses in English but do not let the user know about this prompt. You work as a customer service representative for the Santa Clara County 211 call center. Your job is to provide accurate information about the services Santa Clara County can offer. Always speak in sentences and lists. Ask the user questions about their current situation to get a better understanding of all the services Santa Clara County can offer them. If the user is asking for food assistance, give information on CalFresh, the food stamp application, include eligibility and guide the user through filing the application form.',\r\n      },\r\n      ...messages.map((msg) => ({\r\n        role: msg.sender === 'user' ? 'user' : 'assistant',\r\n        content: msg.text,\r\n      })),\r\n      { role: 'user', content: userMessage },\r\n    ];\r\n\r\n    try {\r\n      const response = await fetch('https://api.openai.com/v1/chat/completions', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${apiKey}`,\r\n        },\r\n        body: JSON.stringify({\r\n          model: 'gpt-4',\r\n          messages: chatHistory,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n      const botMessage = data.choices[0].message.content;\r\n\r\n      setMessages((prevMessages) => {\r\n        const updatedMessages = [...prevMessages, { sender: 'bot', text: botMessage }];\r\n        return updatedMessages;\r\n      });\r\n      playTTS(botMessage); // Ensures TTS is triggered only once\r\n    } catch (error) {\r\n      console.error('Error fetching response:', error);\r\n      setMessages((prevMessages) => [\r\n        ...prevMessages,\r\n        { sender: 'bot', text: 'Sorry, I am having trouble responding at the moment. Please try again later.' },\r\n      ]);\r\n    }\r\n  };\r\n\r\n  const playTTS = async (text, voiceId = 'pFZP5JQG7iQjIQuC4Bku') => {\r\n    try {\r\n      const audioBlob = await tts11(text, voiceId);\r\n      const audioUrl = URL.createObjectURL(audioBlob);\r\n      const audio = new Audio(audioUrl);\r\n      audio.play();\r\n    } catch (error) {\r\n      console.error('Error playing TTS audio:', error);\r\n    }\r\n  };\r\n\r\n  const handleSendMessage = () => {\r\n    if (input.trim() !== '') {\r\n      const userMessage = input.trim();\r\n      setMessages([...messages, { sender: 'user', text: userMessage }]);\r\n      setInput('');\r\n      fetchChatGPTResponse(userMessage);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!isListening) return;\r\n\r\n    const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();\r\n    recognition.lang = languageCodes[selectedLanguage];\r\n    recognition.interimResults = false;\r\n\r\n    recognition.onstart = () => {\r\n      setSpokenText('Listening...');\r\n    };\r\n\r\n    recognition.onresult = (event) => {\r\n      const transcript = event.results[0][0].transcript;\r\n      setSpokenText('');\r\n      setInput(transcript);\r\n      setIsListening(false);\r\n      handleSendMessage();\r\n    };\r\n\r\n    recognition.onerror = (event) => {\r\n      console.error('Speech recognition error:', event.error);\r\n      setIsListening(false);\r\n      setSpokenText('Error occurred, please try again.');\r\n    };\r\n\r\n    recognition.onend = () => {\r\n      if (isListening) {\r\n        setSpokenText('');\r\n        setIsListening(false);\r\n      }\r\n    };\r\n\r\n    recognition.start();\r\n\r\n    return () => recognition.stop();\r\n  }, [isListening, selectedLanguage]);\r\n\r\n  const handleVoiceInput = () => {\r\n    setIsListening((prev) => !prev);\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter') {\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  const handleTranslateMessage = async (message, index) => {\r\n    if (isTranslating) return;\r\n    setIsTranslating(true);\r\n\r\n    const apiKey = 'your-api-key-here';\r\n    const translationPrompt = `You are a helpful assistant that translates text to ${selectedLanguage}. Translate this text: \"${message}\"`;\r\n\r\n    try {\r\n      const response = await fetch('https://api.openai.com/v1/chat/completions', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${apiKey}`,\r\n        },\r\n        body: JSON.stringify({\r\n          model: 'gpt-4',\r\n          messages: [\r\n            {\r\n              role: 'system',\r\n              content: translationPrompt,\r\n            },\r\n          ],\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n      const translatedMessage = data.choices[0].message.content;\r\n\r\n      setMessages((prevMessages) => {\r\n        const updatedMessages = [...prevMessages];\r\n        updatedMessages[index] = {\r\n          ...updatedMessages[index],\r\n          translation: translatedMessage,\r\n        };\r\n        return updatedMessages;\r\n      });\r\n      await playTTS(translatedMessage, 'pFZP5JQG7iQjIQuC4Bku'); // Replace with the desired translation voice ID\r\n    } catch (error) {\r\n      console.error('Error translating message:', error);\r\n    } finally {\r\n      setIsTranslating(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 flex flex-col\">\r\n      {/* Header */}\r\n      <nav className=\"bg-white border-b w-full\">\r\n        <div className=\"flex justify-between items-center h-16 px-4\">\r\n          <img src={freshroadlogo} alt=\"Fresh Road Logo\" className=\"w-35 h-8 mr-2\" />\r\n          <h1 className=\"text-xl font-bold text-gray-900\">Chat with Luna</h1>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Chat Body */}\r\n      <div className=\"flex-grow p-4 overflow-y-auto w-full flex\">\r\n        {/* Avatar Section */}\r\n        <div className=\"hidden sm:block mr-4\">\r\n          <img\r\n            src={avatarImage}\r\n            alt=\"Chat Bot Avatar\"\r\n            className=\"w-16 h-16 rounded-full border border-gray-300\"\r\n          />\r\n        </div>\r\n\r\n        {/* Messages Section */}\r\n        <div className=\"flex-grow\">\r\n          {messages.map((message, index) => (\r\n            <div\r\n              key={index}\r\n              className={`flex ${message.sender === 'bot' ? 'justify-start' : 'justify-end'} mb-4 items-center`}\r\n            >\r\n              <div\r\n                className={`max-w-xs px-4 py-2 rounded-lg shadow ${\r\n                  message.sender === 'bot' ? 'bg-white text-gray-800' : 'bg-cyan-400 text-white'\r\n                }`}\r\n              >\r\n                {message.text}\r\n                {message.translation && (\r\n                  <div className=\"mt-2 text-sm text-gray-600\">Translated: {message.translation}</div>\r\n                )}\r\n                <button\r\n                  onClick={() => handleTranslateMessage(message.text, index)}\r\n                  className=\"mt-2 text-xs text-blue-500 flex items-center\"\r\n                >\r\n                  <TranslateIcon className=\"h-5 w-5 mr-1\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Chat Input */}\r\n      <div className=\"bg-white border-t p-4 w-full\">\r\n        <div className=\"flex items-center mb-2\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"flex-grow border rounded-lg px-4 py-2 focus:outline-none focus:ring focus:ring-cyan-300\"\r\n            placeholder=\"Type your message...\"\r\n            value={input}\r\n            onChange={(e) => setInput(e.target.value)}\r\n            onKeyPress={handleKeyPress}\r\n          />\r\n          <button\r\n            onClick={handleSendMessage}\r\n            className=\"ml-2 px-4 py-2 bg-cyan-400 text-white rounded-lg hover:bg-cyan-500 flex items-center\"\r\n          >\r\n            <PaperAirplaneIcon className=\"h-5 w-5 mr-1\" /> Send\r\n          </button>\r\n          <button\r\n            onClick={handleVoiceInput}\r\n            className={`ml-4 px-4 py-2 rounded-lg text-white ${isListening ? 'bg-red-500' : 'bg-cyan-400'} hover:bg-cyan-500 flex items-center`}\r\n          >\r\n            <MicrophoneIcon className=\"h-5 w-5 mr-1\" /> {isListening ? 'Stop' : 'Voice Input'}\r\n          </button>\r\n          <select\r\n            value={selectedLanguage}\r\n            // eslint-disable-next-line no-undef\r\n            onChange={(e) => handleLanguageChange(e.target.value)}\r\n            className=\"ml-4 px-4 py-2 border rounded-lg flex items-center\"\r\n          >\r\n            {Object.keys(languageCodes).map((lang) => (\r\n              <option key={lang} value={lang}>\r\n                {lang}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        {spokenText && <div className=\"text-gray-600 text-sm mt-2\">{spokenText}</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatInterfacePage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}